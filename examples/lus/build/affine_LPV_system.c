#include <assert.h>
#include "affine_LPV_system.h"

/* C code generated by lustrec
   Version number 1.8-1145-unstable-no-dune
   Code is C99 compliant
   Using (double) floating-point numbers */
   
/* Import dependencies */

/* Global constants (definitions) */

/* Struct definitions */
struct updateState_mem {struct updateState_reg {double __updateState_1;
                                                double __updateState_2;
                                                double __updateState_3;
                                                double __updateState_4;
                                                } _reg; 
                        };
struct updateOutput_mem {struct updateOutput_reg {double __updateOutput_1;
                                                  double __updateOutput_2;
                                                  double __updateOutput_3;
                                                  double __updateOutput_4;
                                                  } _reg; 
                         };


void updateState_reset (struct updateState_mem *self) {
  
  return;
}

void updateState_step (double delta1, double delta2, double d1, double d2, 
                       double (*x1), double (*x2), double (*x3), double (*x4),
                       struct updateState_mem *self) {
  
  *x4 = ((((((((((0.5837 * self->_reg.__updateState_4) + ((delta1 * 0.12) * self->_reg.__updateState_4)) + ((- 8.8940) * self->_reg.__updateState_3)) + ((delta1 * (- 0.12)) * self->_reg.__updateState_3)) + ((delta2 * (- 1.2)) * self->_reg.__updateState_3)) + (0.8113 * self->_reg.__updateState_2)) + ((- 0.0837) * self->_reg.__updateState_1)) + (6.0 * d1)) + ((delta2 * 1.2) * d1)) + (20.0 * d2));
  *x3 = (((((((((- 0.0973) * self->_reg.__updateState_4) + ((delta1 * (- 0.02)) * self->_reg.__updateState_4)) + (0.4823 * self->_reg.__updateState_3)) + ((delta1 * 0.02) * self->_reg.__updateState_3)) + (0.8648 * self->_reg.__updateState_2)) + (0.1473 * self->_reg.__updateState_1)) + (0.0 * d1)) + (0.0 * d2));
  *x2 = ((((((0.0 * self->_reg.__updateState_4) + (1.0 * self->_reg.__updateState_3)) + (0.0 * self->_reg.__updateState_2)) + (0.01 * self->_reg.__updateState_1)) + (0.0 * d1)) + (0.0 * d2));
  *x1 = ((((((1.0 * self->_reg.__updateState_4) + (0.0 * self->_reg.__updateState_3)) + (0.01 * self->_reg.__updateState_2)) + (0.0 * self->_reg.__updateState_1)) + (0.0 * d1)) + (0.0 * d2));
  self->_reg.__updateState_4 = *x1;
  self->_reg.__updateState_3 = *x2;
  self->_reg.__updateState_2 = *x3;
  self->_reg.__updateState_1 = *x4;
  return;
}

void updateOutput_reset (struct updateOutput_mem *self) {
  
  return;
}

void updateOutput_step (double x1, double x2, double x3, double x4,
                        double delta1, double delta2, double d1, double d2, 
                        double (*y1), double (*y2),
                        struct updateOutput_mem *self) {
  
  *y2 = ((((((((0.0 * self->_reg.__updateOutput_4) + ((- 30.0) * self->_reg.__updateOutput_3)) + ((delta2 * (- 6.0)) * self->_reg.__updateOutput_3)) + (0.0 * self->_reg.__updateOutput_2)) + (0.0 * self->_reg.__updateOutput_1)) + (30.0 * d1)) + ((delta2 * 6.0) * d1)) + (0.0 * d2));
  *y1 = (((((((((- 3.0) * self->_reg.__updateOutput_4) + ((delta1 * (- 0.6)) * self->_reg.__updateOutput_4)) + (3.0 * self->_reg.__updateOutput_3)) + ((delta1 * 0.6) * self->_reg.__updateOutput_3)) + (0.0 * self->_reg.__updateOutput_2)) + (0.0 * self->_reg.__updateOutput_1)) + (0.0 * d1)) + (0.0 * d2));
  self->_reg.__updateOutput_4 = x1;
  self->_reg.__updateOutput_3 = x2;
  self->_reg.__updateOutput_2 = x3;
  self->_reg.__updateOutput_1 = x4;
  return;
}

